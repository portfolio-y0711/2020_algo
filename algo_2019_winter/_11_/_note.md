## [1차] 셔틀버스

https://programmers.co.kr/learn/courses/30/lessons/17678

#### 문제 설명

카카오에서는 무료 셔틀버스를 운행하기 때문에 판교역에서 편하게 사무실로 올 수 있다. 카카오의 직원은 서로를 '크루'라고 부르는데, 아침마다 많은 크루들이 이 셔틀을 이용하여 출근한다.

이 문제에서는 편의를 위해 셔틀은 다음과 같은 규칙으로 운행한다고 가정하자.

* 셔틀은 `09:00`부터 총 `n`회 `t`분 간격으로 역에 도착하며, 하나의 셔틀에는 최대 `m`명의 승객이 탈 수 있다.
* 셔틀은 도착했을 때 도착한 순간에 대기열에 선 크루까지 포함해서 대기 순서대로 태우고 바로 출발한다. 예를 들어 `09:00`에 도착한 셔틀은 자리가 있다면 `09:00`에 줄을 선 크루도 탈 수 있다.

일찍 나와서 셔틀을 기다리는 것이 귀찮았던 콘은, 일주일간의 집요한 관찰 끝에 어떤 크루가 몇 시에 셔틀 대기열에 도착하는지 알아냈다. 콘이 셔틀을 타고 사무실로 갈 수 있는 도착 시각 중 제일 늦은 시각을 구하여라.

단, 콘은 게으르기 때문에 같은 시각에 도착한 크루 중 대기열에서 제일 뒤에 선다. 또한, 모든 크루는 잠을 자야 하므로 `23:59`에 집에 돌아간다. 따라서 어떤 크루도 다음날 셔틀을 타는 일은 없다.

#### 입력 형식

셔틀 운행 횟수 `n`, 셔틀 운행 간격 `t`, 한 셔틀에 탈 수 있는 최대 크루 수 `m`, 크루가 대기열에 도착하는 시각을 모은 배열 `timetable`이 입력으로 주어진다.

* 0 ＜ `n` ≦ 10
* 0 ＜ `t` ≦ 60
* 0 ＜ `m` ≦ 45
* `timetable`은 최소 길이 1이고 최대 길이 2000인 배열로, 하루 동안 크루가 대기열에 도착하는 시각이 `HH:MM` 형식으로 이루어져 있다.
* 크루의 도착 시각 `HH:MM`은 `00:01`에서 `23:59` 사이이다.

#### 출력 형식

콘이 무사히 셔틀을 타고 사무실로 갈 수 있는 제일 늦은 도착 시각을 출력한다. 도착 시각은 ``HH:MM`` 형식이며, `00:00`에서 `23:59` 사이의 값이 될 수 있다.

#### 입출력 예제

| n| t | m | timetable | answer |
| :--- | :--- | :--- | :--- | :--- |
| 1 | 1 | 5 | ["08:00", "08:01", "08:02", "08:03"] | "09:00" |
| 2 | 10 | 2 | ["09:10", "09:09", "08:00"] | "09:09" |    
| 2 | 1 | 2 | ["09:00", "09:00", "09:00", "09:00"] | "08:59"
| 1 | 1 | 5 | ["00:01", "00:01", "00:01", "00:01", "00:01"] | "00:00"
| 1 | 1 | 1 | ["23:59"] | "09:00"
| 10 | 60 | 45 | ["23:59","23:59", "23:59", "23:59", "23:59", "23:59", "23:59", '23:59', "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59"] | "18:00" |
| 2 | 10 | 3 | ["09:00", "09:00", "09:00", "09:10"] | "09:10" |
| 2 | 10 | 2 | ["09:00", "09:00", "09:10", "09:05", "09:08"] | "09:07" |

[해설 보러가기](http://tech.kakao.com/2017/09/27/kakao-blind-recruitment-round-1/)

## 풀이

1. 시간을 증가 시키면서 셔틀 버스가 도착 시 기다렸던 크루들 어떻게 태우는지를 계산한다.

2. 마지막 셔틀 버스가 계산 되었을 때 **콘**이 타야될 위치를 계산한다.

    | 상황 | 결과 |
    | :--- | :--- |
    | 마지막 셔틀 버스에 모든 정원이 다 탔을 경우 | 마지막 탑승자보다 1분 먼저 도착 |
    | 마지막 셔틀 버스에 자리가 남았을 경우 | 마지막 버스 시간에 딱 맞춰서 도착 |

### 풀이 A

버스의 도착시간에 탑승하는 크루의 목록을 테이블로 구한 후 콘이 탈 자리를 계산한다.

`java.time.LocalTime`을 사용해서 계산하면 `테스트22`가 실패하게 된다. 아래 구문이 거슬린다... ㅠ_ㅠ

```
또한, 모든 크루는 잠을 자야 하므로 `23:59`에 집에 돌아간다. 따라서 어떤 크루도 다음날 셔틀을 타는 일은 없다.
```

그래서 **당일**이라는 개념을 사용하기 위해 `java.time.LocalDateTime`를 사용했다. 날짜는 이 프로그램을 실행시킨 날짜로 세팅한다.

#### 입출력 예제 1

![](https://i.imgur.com/DqOiudC.png)

```
crews = [08:00, 08:01, 08:02, 08:03]

09:00 (5) = [08:00, 08:01, 08:02, 08:03]

con = 09:00
```

#### 입출력 예제 2

![](https://i.imgur.com/WguvF5t.png)

```
crews = [08:00, 09:09, 09:10]

09:00 (2) = [08:00]
09:10 (2) = [09:09, 09:10]

con = 09:09
```

#### 입출력 예제 3

![](https://i.imgur.com/EAU3Tj9.png)

```
crews = [09:00, 09:00, 09:00, 09:00]

09:00 (2) = [09:00, 09:00]
09:01 (2) = [09:00, 09:00]

con = 08:59
```

#### 입출력 예제 4

![](https://i.imgur.com/hj3bhUp.png)

```
crews = [00:01, 00:01, 00:01, 00:01, 00:01]

09:00 (5) = [00:01, 00:01, 00:01, 00:01, 00:01]

con = 00:00
```

![](https://i.imgur.com/UlKvraC.png)

#### 입출력 예제 5

```
crews = [23:59]

09:00 (1) = []

con = 09:00
```

#### 입출력 예제 6

```
crews = [23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59, 23:59]

09:00 (45) = []
10:00 (45) = []
11:00 (45) = []
12:00 (45) = []
13:00 (45) = []
14:00 (45) = []
15:00 (45) = []
16:00 (45) = []
17:00 (45) = []
18:00 (45) = []

con = 18:00
```

#### 입출력 예제 7

![](https://i.imgur.com/BGcKMuf.png)

```
crews = [09:00, 09:00, 09:00, 09:10]

09:00 (3) = [09:00, 09:00, 09:00]
09:10 (3) = [09:10]

con = 09:10
```

#### 입출력 예제 8

![](https://i.imgur.com/qUIXhi4.png)

```
crews = [09:00, 09:00, 09:05, 09:08, 09:10]

09:00 (2) = [09:00, 09:00]
09:10 (2) = [09:05, 09:08]

con = 09:07
```

### 풀이 B

버스의 도착 시간을 계산해 나가면서 그 때 태울 크루 인원을 계산해 나간다.

`HH:mm` 문자열을 `분(int)`로 변환하여 계산한다. 위와 같이 `LocalTime`을 사용할 때의 이슈는 없었다.

#### 입출력 예제 1

![](https://i.imgur.com/eByZ80d.png)

```
crews = [08:00, 08:01, 08:02, 08:03]

bus = 09:00 (5)
  crew = 08:00
  crew = 08:01
  crew = 08:02
  crew = 08:03

con = 09:00
```

#### 입출력 예제 2

![](https://i.imgur.com/T4bdX2s.png)

```
crews = [09:10, 09:09, 08:00]

bus = 09:00 (2)
  crew = 08:00

bus = 09:10 (2)
  crew = 09:09
  crew = 09:10

con = 09:09
```

#### 입출력 예제 3

![](https://i.imgur.com/cTCk5qr.png)
```
crews = [09:00, 09:00, 09:00, 09:00]

bus = 09:00 (2)
  crew = 09:00
  crew = 09:00

bus = 09:01 (2)
  crew = 09:00
  crew = 09:00

con = 08:59
```

### Performance

나의 코드로 측정한 `테스트 23` 수행 시간.

| 단위: `ms` | for | stream |
| :--- | ---: | ---: |
| int (Integer) | 20.98 | 25.59 |
| LocalDateTime | 83.99 | 103.08 |

### for vs stream

| &nbsp; | for | stream |
| :---: | :---: | :---: | 
| 속도 | ↑ | ↓ |
| 가독성 | ↓ | ↑ |

# [셔틀버스](https://programmers.co.kr/learn/courses/30/lessons/17678) 
> 

### 코드 및 실행결과

* [성공](shuttle_bus_tail_recursion.ts) : typescript(tail recursion)로 작성한 코드  
  ![결과](shuttle_bus_tail_recursion.png)

* [성공](shuttle_bus_recursive_loop.ts) : typescript(tail recursion)로 작성한 코드  
  ![결과](shuttle_bus_recursive_loop.png)

### 참고자료

* [실패](Solution.RecursiveLambda.java.bak) : java(tail recursion + lambda recursive)로 변환한 코드
  ![결과](Solution.RecursiveLambda.png)

* [Do it in Java 8: Recursive lambdas](https://dzone.com/articles/do-it-java-8-recursive-lambdas)
* [Implement recursive lambda function using Java 8](https://stackoverflow.com/questions/19429667/implement-recursive-lambda-function-using-java-8)
* [Java Lambda (7) 람다와 클로저](https://futurecreator.github.io/2018/08/09/java-lambda-and-closure/)
* [람다가 이끌어 갈 모던 Java](https://d2.naver.com/helloworld/4911107)
